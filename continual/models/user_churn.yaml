type: Model
name: user_churn
index: msno
time_index: ts
target: is_churn
split: split
description: kkbox 30 day user churn
owners:
  - jordan@continual.ai
documentation: |
    https://docs.continual.ai/customer-churn/
columns:
  - name: msno
    type: TEXT
    entity: kkbox_user
exclude_columns:
  - next_transaction
  - most_recent_transaction
  - days_expired
train:
  metric: roc_auc
query: |
  select * from dbt.demo_kkbox_churn.churn_model_definition as A
  where msno in (select distinct msno from dbt.demo_kkbox_churn.user_logs_all)
  and ts in (select distinct ts from dbt.demo_kkbox_churn.user_logs_all where msno = A.msno)
